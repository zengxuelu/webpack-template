{"version":3,"sources":["webpack:///src/views/question/base.vue","webpack:///./src/views/question/base.vue?b448","webpack:///./src/views/question/base.vue"],"names":["base","data","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","logintypes","value","label","tags","ruleForm","title","endmsg","desc","redirecturl","logintype","date","type","inputVisible","inputValue","rules","required","message","trigger","mounted","this","init","methods","handleClose","tag","splice","indexOf","showInput","_this2","$nextTick","_","$refs","saveTagInput","input","focus","handleInputConfirm","push","selected","addTag","index","submitForm","formName","_this","validate","valid","selectedItems","filter","x","map","concat","selectedtags","starttime","dayjs_min_default","format","endtime","status","join","$route","params","sid","api","saveSurveyBase","then","res","store","commit","mutation_type","$router","path","resetForm","resetFields","_this3","promise_default","a","all","getInfo","getTagList","assign_default","selectedTags","split","some","item","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","body-style","padding","ref","model","label-width","prop","callback","$$v","$set","expression","_v","staticStyle","width","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","placeholder","_l","key","size","on","blur","nativeOn","keyup","$event","_k","keyCode","click","length","_s","_e","_withStripped","esExports","staticRenderFns","question_base","disposed","Component","__webpack_require__","normalizeComponent","ssrContext","options","__file","__webpack_exports__"],"mappings":"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","file":"js/7.656fb81b80a1da07c3c8.js","sourcesContent":["<template>\r\n  <div class=\"base-container\">\r\n    <el-card class=\"form\" :body-style=\"{ padding: '0px' }\">\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"content\">\r\n        <el-form-item label=\"问卷标题\" prop=\"title\">\r\n            <el-input v-model=\"ruleForm.title\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"欢迎语\" prop=\"desc\">\r\n            <el-input type=\"textarea\" v-model=\"ruleForm.desc\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"完成提示\" prop=\"endmsg\">\r\n            <el-input type=\"textarea\" v-model=\"ruleForm.endmsg\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"问卷有效期\" prop=\"date\">\r\n          <el-date-picker\r\n            style=\"width: 360px\"\r\n            v-model=\"ruleForm.date\"\r\n            type=\"daterange\"\r\n            align=\"right\"\r\n            unlink-panels\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            :picker-options=\"pickerOptions\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"登录方式\" prop=\"logintype\">\r\n          <el-select v-model=\"ruleForm.logintype\" placeholder=\"请选择登录方式\">\r\n            <el-option\r\n              v-for=\"item in logintypes\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束后跳转\" prop=\"redirecturl\">\r\n            <el-input type=\"textarea\" v-model=\"ruleForm.redirecturl\" placeholder=\"请填写跳转地址\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"问卷标签\" prop=\"type\">\r\n            <div>\r\n              <el-input\r\n                v-if=\"inputVisible\"\r\n                class=\"input-new-tag\"\r\n                size=\"small\"\r\n                v-model=\"inputValue\"\r\n                ref=\"saveTagInput\"\r\n                @keyup.enter.native=\"handleInputConfirm\"\r\n                @blur=\"handleInputConfirm\"\r\n              >\r\n              </el-input>\r\n              <el-button v-else size=\"small\" @click=\"showInput\">找不到标签？添加标签 +</el-button>\r\n            </div>\r\n            <div v-if=\"tags && tags.length\">\r\n              <el-button \r\n                size=\"small\"\r\n                :type=\"tag.selected ? 'primary' : ''\"\r\n                :key=\"index\"\r\n                v-for=\"(tag, index) in tags\"\r\n                @click=\"addTag(index)\"\r\n              >{{tag.label}}</el-button>\r\n            </div>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">{{$route.params.sid ? '保存' : '立即创建'}}</el-button>\r\n            <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '~/api/api';\r\n  import store from '~/store/index';\r\n  import * as types from '~/store/mutation-type';\r\n  import dayjs from 'dayjs';\r\n  //import NProgress from 'nprogress'\r\n  export default {\r\n    data() {\r\n      return {\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        logintypes: [{\r\n          value: 0,\r\n          label: '无需登录'\r\n        }, {\r\n          value: 1,\r\n          label: '巨人通行证'\r\n        }, {\r\n          value: 2,\r\n          label: '游戏内登录'\r\n        }],\r\n        tags: null,\r\n        ruleForm: {\r\n          title: '',\r\n          endmsg: '',\r\n          desc: '',\r\n          redirecturl: '',\r\n          logintype: 2,\r\n          date: [],\r\n          type: []\r\n        },\r\n        inputVisible: false,\r\n        inputValue: '',\r\n        rules: {\r\n          title: [\r\n            { required: true, message: '请输入问卷名称', trigger: 'blur' },\r\n            // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n          ],\r\n          desc: [\r\n            { required: true, message: '请输入欢迎语', trigger: 'blur' }\r\n          ],\r\n          endmsg: [\r\n            { required: true, message: '请输入结束提示语', trigger: 'blur' }\r\n          ],\r\n          date: [\r\n            { required: true, type: 'array', message: '请选择日期', trigger: 'change' }\r\n          ],\r\n          logintype: [\r\n            { required: true, message: '请选择登录方式', trigger: 'change' }\r\n          ],\r\n          type: [\r\n            { type: 'array', message: '请至少选择一个问卷标签', trigger: 'change' }\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      this.init();\r\n    },\r\n    methods: {\r\n      handleClose(tag) {\r\n        this.tags.splice(this.tags.indexOf(tag), 1);\r\n      },\r\n\r\n      showInput() {\r\n        this.inputVisible = true;\r\n        this.$nextTick(_ => {\r\n          this.$refs.saveTagInput.$refs.input.focus();\r\n        });\r\n      },\r\n\r\n      handleInputConfirm() {\r\n        let inputValue = this.inputValue;\r\n        if (inputValue) {\r\n          this.tags.push({label: inputValue, selected: true});\r\n        }\r\n        this.inputVisible = false;\r\n        this.inputValue = '';\r\n      },\r\n\r\n      addTag(index) {\r\n        this.tags.splice(index, 1, {\r\n          label: this.tags[index].label,\r\n          selected: !this.tags[index].selected\r\n        });\r\n      },\r\n\r\n      submitForm(formName) {\r\n        let _this = this;\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            let selectedItems;\r\n            if(_this.tags && _this.tags) {\r\n              selectedItems = _this.tags.filter(x => x.selected).map(x => x.label);\r\n            }\r\n            selectedItems = selectedItems.concat(_this.selectedtags);\r\n            let data = {\r\n              title: _this.ruleForm.title,\r\n              desc: _this.ruleForm.desc,\r\n              starttime: dayjs(_this.ruleForm.date[0]).format('YYYY-MM-DD'),\r\n              endtime: dayjs(_this.ruleForm.date[1]).format('YYYY-MM-DD'),\r\n              endmsg: _this.ruleForm.endmsg,\r\n              status: 0,\r\n              logintype: _this.ruleForm.logintype,\r\n              redirecturl: _this.ruleForm.redirecturl,\r\n              tags: selectedItems.join(',')\r\n            };\r\n            if(_this.$route.params.sid) {\r\n              data.sid = _this.$route.params.sid;\r\n            }\r\n            api.saveSurveyBase(data).then(res => {\r\n              if (res) {\r\n                store.commit(types.SET_STEP, 'question');\r\n                _this.$router.push({ path: `/edit/${res.data.sid}/question/` });\r\n              }\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n      init() {\r\n        if(!this.$route.params.sid) {\r\n          api.getTagList().then(res => {\r\n            if(!res) return;\r\n            this.tags = res.data.map(x => {\r\n              return {\r\n                label: x,\r\n                selected: false\r\n              }\r\n            });\r\n          })\r\n        } else {\r\n          Promise.all([api.getInfo(this.$route.params.sid), api.getTagList()]).then(res => {\r\n            if(res[0]) {\r\n              this.ruleForm = Object.assign({}, res[0].data, {\r\n                date: [\r\n                  new Date(res[0].data.starttime),\r\n                  new Date(res[0].data.endtime)\r\n                ]\r\n              });\r\n              let selectedTags = res[0].data.tags.split(',');\r\n              this.tags = res[1].data.map(x => {\r\n                return {\r\n                  label: x,\r\n                  selected: selectedTags.some(item => item == x) ? true : false\r\n                }\r\n              });\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  .base-container {\r\n    min-width 1306px\r\n    margin 0 auto\r\n    .form {\r\n      width 820px\r\n      margin 94px auto\r\n      padding 25px\r\n      .content {\r\n        width 460px\r\n        .el-button {\r\n            margin-right: 10px;\r\n            margin-left: 0\r\n        }\r\n        .input-new-tag {\r\n          width: 90px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/base.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"base-container\" },\n    [\n      _c(\n        \"el-card\",\n        { staticClass: \"form\", attrs: { \"body-style\": { padding: \"0px\" } } },\n        [\n          _c(\n            \"el-form\",\n            {\n              ref: \"ruleForm\",\n              staticClass: \"content\",\n              attrs: {\n                model: _vm.ruleForm,\n                rules: _vm.rules,\n                \"label-width\": \"100px\"\n              }\n            },\n            [\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"问卷标题\", prop: \"title\" } },\n                [\n                  _c(\"el-input\", {\n                    model: {\n                      value: _vm.ruleForm.title,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"title\", $$v)\n                      },\n                      expression: \"ruleForm.title\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"欢迎语\", prop: \"desc\" } },\n                [\n                  _c(\"el-input\", {\n                    attrs: { type: \"textarea\" },\n                    model: {\n                      value: _vm.ruleForm.desc,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"desc\", $$v)\n                      },\n                      expression: \"ruleForm.desc\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"完成提示\", prop: \"endmsg\" } },\n                [\n                  _c(\"el-input\", {\n                    attrs: { type: \"textarea\" },\n                    model: {\n                      value: _vm.ruleForm.endmsg,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"endmsg\", $$v)\n                      },\n                      expression: \"ruleForm.endmsg\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"问卷有效期\", prop: \"date\" } },\n                [\n                  _c(\"el-date-picker\", {\n                    staticStyle: { width: \"360px\" },\n                    attrs: {\n                      type: \"daterange\",\n                      align: \"right\",\n                      \"unlink-panels\": \"\",\n                      \"range-separator\": \"至\",\n                      \"start-placeholder\": \"开始日期\",\n                      \"end-placeholder\": \"结束日期\",\n                      \"picker-options\": _vm.pickerOptions\n                    },\n                    model: {\n                      value: _vm.ruleForm.date,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"date\", $$v)\n                      },\n                      expression: \"ruleForm.date\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"登录方式\", prop: \"logintype\" } },\n                [\n                  _c(\n                    \"el-select\",\n                    {\n                      attrs: { placeholder: \"请选择登录方式\" },\n                      model: {\n                        value: _vm.ruleForm.logintype,\n                        callback: function($$v) {\n                          _vm.$set(_vm.ruleForm, \"logintype\", $$v)\n                        },\n                        expression: \"ruleForm.logintype\"\n                      }\n                    },\n                    _vm._l(_vm.logintypes, function(item) {\n                      return _c(\"el-option\", {\n                        key: item.value,\n                        attrs: { label: item.label, value: item.value }\n                      })\n                    }),\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"结束后跳转\", prop: \"redirecturl\" } },\n                [\n                  _c(\"el-input\", {\n                    attrs: { type: \"textarea\", placeholder: \"请填写跳转地址\" },\n                    model: {\n                      value: _vm.ruleForm.redirecturl,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"redirecturl\", $$v)\n                      },\n                      expression: \"ruleForm.redirecturl\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"问卷标签\", prop: \"type\" } },\n                [\n                  _c(\n                    \"div\",\n                    [\n                      _vm.inputVisible\n                        ? _c(\"el-input\", {\n                            ref: \"saveTagInput\",\n                            staticClass: \"input-new-tag\",\n                            attrs: { size: \"small\" },\n                            on: { blur: _vm.handleInputConfirm },\n                            nativeOn: {\n                              keyup: function($event) {\n                                if (\n                                  !$event.type.indexOf(\"key\") &&\n                                  _vm._k(\n                                    $event.keyCode,\n                                    \"enter\",\n                                    13,\n                                    $event.key,\n                                    \"Enter\"\n                                  )\n                                ) {\n                                  return null\n                                }\n                                return _vm.handleInputConfirm($event)\n                              }\n                            },\n                            model: {\n                              value: _vm.inputValue,\n                              callback: function($$v) {\n                                _vm.inputValue = $$v\n                              },\n                              expression: \"inputValue\"\n                            }\n                          })\n                        : _c(\n                            \"el-button\",\n                            {\n                              attrs: { size: \"small\" },\n                              on: { click: _vm.showInput }\n                            },\n                            [_vm._v(\"找不到标签？添加标签 +\")]\n                          )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _vm.tags && _vm.tags.length\n                    ? _c(\n                        \"div\",\n                        _vm._l(_vm.tags, function(tag, index) {\n                          return _c(\n                            \"el-button\",\n                            {\n                              key: index,\n                              attrs: {\n                                size: \"small\",\n                                type: tag.selected ? \"primary\" : \"\"\n                              },\n                              on: {\n                                click: function($event) {\n                                  return _vm.addTag(index)\n                                }\n                              }\n                            },\n                            [_vm._v(_vm._s(tag.label))]\n                          )\n                        }),\n                        1\n                      )\n                    : _vm._e()\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                [\n                  _c(\n                    \"el-button\",\n                    {\n                      attrs: { type: \"primary\" },\n                      on: {\n                        click: function($event) {\n                          return _vm.submitForm(\"ruleForm\")\n                        }\n                      }\n                    },\n                    [\n                      _vm._v(\n                        _vm._s(_vm.$route.params.sid ? \"保存\" : \"立即创建\")\n                      )\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-button\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.resetForm(\"ruleForm\")\n                        }\n                      }\n                    },\n                    [_vm._v(\"重置\")]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-8e2932a0\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e2932a0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/base.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8e2932a0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e2932a0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/question/base.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-8e2932a0\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-8e2932a0\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/base.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}